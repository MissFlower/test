<!--
 * @Description: 
 * @Version: 0.1.0
 * @Author: AiDongYang
 * @Date: 2021-02-04 17:48:31
 * @LastEditors: AiDongYang
 * @LastEditTime: 2021-02-05 09:45:50
-->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <button id="start">开始</button>
  <button id="stop">停止</button>
  <script>
    let timer = null
    const interval = (fn, wait) => {
      let interv = () => {
        fn.call(null)
        timer = setTimeout(interv, wait)
      }
      timer = setTimeout(interv, wait)
    }

    const oStart = document.querySelector('#start')
    const oStop = document.querySelector('#stop')

    oStart.addEventListener('click', function() {
      if (!timer) {
        interval(function() { console.log(Date.now())}, 999)
      }
    }, false)
    
    oStop.addEventListener('click', function() {
      if (timer) {
        clearTimeout(timer)
        timer = null
      }
    }, false)
  </script>
</body>
</html>